<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>AI Dice</title>
  <style>
    body {
      background:#1b1d1e;
      color:white;
      font-family:"Press Start 2P", monospace;
      image-rendering:pixelated;
      text-align:center;
      margin:0;
    }
    #game {
      width:900px;
      margin:auto;
      padding:20px;
    }
    .panel {
      background:#26282b;
      padding:10px;
      margin:10px 0;
      border:4px solid #3d3f42;
      border-radius:6px;
    }
    button {
      background:#3d3f42;
      border:3px solid #6f7175;
      padding:10px;
      font-family:"Press Start 2P";
      color:white;
      cursor:pointer;
      margin:5px;
    }
    button:hover { background:#5a5c60; }
    canvas { image-rendering:pixelated; }
  </style>
</head>
<body>
<div id="game">
  <h1>AI Dice</h1>
  
  <canvas id="diceCanvas" width="128" height="128"></canvas>
  <br>
  <button id="rollBtn">ROLL</button>

  <div class="panel" id="infoPanel">
    <div id="points">Points: 0</div>
    <div id="level">Level: 1</div>
    <div id="xp">XP: 0</div>
    <div id="prestige">Prestige: 0</div>
  </div>

  <div class="panel" id="shopPanel">
    <h2>Upgrades</h2>
    <button id="upgradeDice">Upgrade Dice (Cost: 10)</button><br>
    <button id="buyHelper">Hire Helper Hand (Cost: 25)</button><br>
  </div>

  <div class="panel" id="helpersPanel">
    <h2>Helpers</h2>
    <div id="helpers">0 helpers</div>
  </div>

  <div class="panel" id="achievementsPanel">
    <h2>Achievements</h2>
    <div id="achievements"></div>
  </div>

  <button onclick="resetGame()">RESET SAVE</button>
</div>

<script>
// ==========================
// BASIC GAME VARIABLES
// ==========================
let points = 0;
let diceLevel = 1;
let helpers = 0;
let level = 1;
let xp = 0;
let prestige = 0;

let upgradeDiceCost = 10;
let helperCost = 25;

// ==========================
// CANVAS PIXEL DICE RENDER
// ==========================
const canvas = document.getElementById("diceCanvas");
const ctx = canvas.getContext("2d");

function drawDiceFace(value) {
  ctx.fillStyle = "#000";
  ctx.fillRect(0,0,128,128);
  ctx.fillStyle = "#fff";
  ctx.fillRect(8,8,112,112);
  ctx.fillStyle = "#000";

  const dots = {
    1:[[64,64]],
    2:[[40,40],[88,88]],
    3:[[40,40],[64,64],[88,88]],
    4:[[40,40],[40,88],[88,40],[88,88]],
    5:[[40,40],[40,88],[64,64],[88,40],[88,88]],
    6:[[40,40],[40,64],[40,88],[88,40],[88,64],[88,88]]
  };

  dots[value].forEach(d=>{
    ctx.fillRect(d[0]-6, d[1]-6, 12, 12);
  });
}

// ==========================
// ROLL MECHANIC
// ==========================
function rollDice() {
  const maxRoll = 6 + (diceLevel-1);
  const roll = Math.floor(Math.random()*maxRoll)+1;
  drawDiceFace(Math.min(roll,6));

  points += roll;
  xp += roll;
  updateUI();
  checkLevelUp();
}

// ==========================
// LEVEL UP
// ==========================
function checkLevelUp() {
  const needed = level * 50;
  if (xp >= needed) {
    xp -= needed;
    level++;
    points += 20;
    updateUI();
  }
}

// ==========================
// SHOP
// ==========================
function buyDiceUpgrade() {
  if(points >= upgradeDiceCost) {
    points -= upgradeDiceCost;
    diceLevel++;
    upgradeDiceCost = Math.floor(upgradeDiceCost * 1.8);
    updateUI();
  }
}

function buyHelper() {
  if(points >= helperCost) {
    points -= helperCost;
    helpers++;
    helperCost = Math.floor(helperCost * 1.6);
    updateUI();
  }
}

// AUTO HELPERS
setInterval(()=>{
  if(helpers>0) {
    points += helpers;
    xp += helpers;
    updateUI();
    checkLevelUp();
  }
},1000);

// ==========================
// SAVE & LOAD
// ==========================
function saveGame(){
  localStorage.setItem("aicdiceSave", JSON.stringify({
    points,diceLevel,helpers,level,xp,prestige,
    upgradeDiceCost,helperCost
  }));
}
function loadGame(){
  const data = localStorage.getItem("aicdiceSave");
  if(!data) return;
  const s = JSON.parse(data);
  points = s.points || 0;
  diceLevel = s.diceLevel || 1;
  helpers = s.helpers || 0;
  level = s.level || 1;
  xp = s.xp || 0;
  prestige = s.prestige || 0;
  upgradeDiceCost = s.upgradeDiceCost || 10;
  helperCost = s.helperCost || 25;
  updateUI();
}
function resetGame(){
  localStorage.removeItem("aicdiceSave");
  location.reload();
}

setInterval(saveGame,3000);
loadGame();

// ==========================
// UI UPDATE
// ==========================
function updateUI(){
  document.getElementById("points").innerText = "Points: " + points;
  document.getElementById("level").innerText = "Level: " + level;
  document.getElementById("xp").innerText = "XP: " + xp;
  document.getElementById("prestige").innerText = "Prestige: " + prestige;
  document.getElementById("helpers").innerText = helpers + " helpers";
  document.getElementById("upgradeDice").innerText = "Upgrade Dice (Cost: " + upgradeDiceCost + ")";
  document.getElementById("buyHelper").innerText = "Hire Helper Hand (Cost: " + helperCost + ")";
}

updateUI();
</script>
</body>
</html>
